<html>
  <head>
    <title>HTML5 Workshop - Webcam to Video</title>
    <script type='text/javascript' src='javascript/video-to-canvas.js'></script>
    <script type='text/javascript' src='javascript/webcam-to-video.js'></script>
    <style type='text/css'>
      ul { list-style:none; }
      li { float: left; margin: 10px; }
      h3 { text-align: center; }
      .clear { clear:both; }
    </style>
    <script type='text/javascript'>

      (function(){

        var videoToCanvas;

        var onplayHandler = function() { videoToCanvas.start(); }
        var onstopHandler = function() { videoToCanvas.stop();  }

        var onloadHandler = function() {

          video = document.getElementById('movie');
          webcam = document.getElementById('webcam');
          canvas = document.getElementById('canvas');

          webcamToVideo = new WebcamToVideo(webcam, canvas);
          videoToCanvas = new VideoToCanvas(video, canvas);

          webcam.onmouseover = function() { videoToCanvas.stop(); webcamToVideo.start(); }
          video.onmouseover = function() { webcamToVideo.stop(); videoToCanvas.start(); }

        };

        window.onload = onloadHandler;

      })();

    </script>
  </head>
  <body>
    <ul>
      <li>
        <h3> Video from Movie </h3>
        <video src='videos/test_video_1.mp4' width='500' height='281' id='movie' autoplay></video>
      </li>
      <li>
        <h3> Video from Webcam</h3>
        <video width='500' height='281' id='webcam'></video>
      </li>
    </ul>
    <div class='clear'></div>
      <h3> Canvas </h3>
      <canvas width='500' height='281' id='canvas'></canvas>
    </ul>
  </body>
</html>
